# Vim 相关配置以及快捷键设置

## .vimrc

```sh
" Vim 的默认寄存器和系统剪贴板共享
set clipboard+=unnamed
" select模式下复制，文本选中时，按下Ctrl+C，即可复制
if has("clipboard")
    vnoremap <C-C> "+y
endif

set nu

syntax on
inoremap jj <ESC>


```



## vim模式

#### normal 

#### insert

#### command

## Vim 快捷键 (normal)

### 移动

| 命令      | 功能           |
| --------- | -------------- |
| shift + 6 | 切换行首       |
| shift + 4 | 切换到行尾     |
| gg        | 跳转到首行行首 |
| shift+g   | 跳转到末行行首 |
| w         | 下一个单词     |
| b         | 上一个单词     |
| e         | 移动到词尾     |

### 插入

| 命令 | 功能                      |
| ---- | ------------------------- |
| yy   | 复制当前行                |
| nyy  | 复制光标所在的连续向下n行 |

### 删除

| 命令 | 功能                             |
| ---- | -------------------------------- |
| `x`  | 向后删除一个字符                 |
| `X`  | 向前删除一个字符                 |
| nx   | 连续向后删除n个字符              |
| dd   | 删除当前行                       |
| ndd  | 删除光标所在的连续向下n行        |
| d1G  | 删除光标所在到第一行所有的数据   |
| dG   | 删除光标所在到最后一行的所有数据 |
| dw   | 删除光标之后的`单词`剩余部分。   |
| d$   | 删除光标之后的该行剩余部分。     |



### 复制

| 命令 | 功能                      |
| ---- | ------------------------- |
| yy   | 复制当前行                |
| nyy  | 复制光标所在的连续向下n行 |

### 粘贴

| 命令 | 功能                      |
| ---- | ------------------------- |
| p    | 粘贴在当前行的下一行      |
| P    | 复制光标所在的连续向下n行 |

### 编辑类指令

| 命令     | 功能                |
| -------- | ------------------- |
| .        | 重复前一个动作      |
| u        | 撤销前一个动作 Undo |
| Ctrl + r | 重做前一个动作 Redo |

### 查找

在normal模式下按下`/`即可进入查找模式，输入要查找的字符串并按下回车。 Vim会跳转到第一个匹配。按下`n`查找下一个，按下`N`查找上一个。

Vim查找支持正则表达式，例如`/vim$`匹配行尾的`"vim"`。 需要查找特殊字符需要转义，例如`/vim\$`匹配`"vim$"`。

**大小写敏感查找**

在查找模式中加入`\c`表示大小写不敏感查找，`\C`表示大小写敏感查找。例如：

```
/foo\c
```

将会查找所有的`"foo"`,`"FOO"`,`"Foo"`等字符串。

**大小写敏感配置**

Vim 默认采用大小写敏感的查找，为了方便我们常常将其配置为大小写不敏感：

```
" 设置默认进行大小写不敏感查找
set ignorecase
" 如果有一个大写字母，则切换到大小写敏感查找
set smartcase 
```

> 将上述设置粘贴到你的`~/.vimrc`，重新打开Vim即可生效

**查找当前单词**

在normal模式下按下`*`即可查找光标所在单词（word）， 要求每次出现的前后为空白字符或标点符号。例如当前为`foo`， 可以匹配`foo bar`中的`foo`，但不可匹配`foobar`中的`foo`。 这在查找函数名、变量名时非常有用。

按下`g*`即可查找光标所在单词的字符序列，每次出现前后字符无要求。 即`foo bar`和`foobar`中的`foo`均可被匹配到。

**查找与替换**

`:s`（substitute）命令用来查找和替换字符串。语法如下：

```
:{作用范围}s/{目标}/{替换}/{替换标志}
```

例如`:%s/foo/bar/g`会在全局范围(`%`)查找`foo`并替换为`bar`，所有出现都会被替换（`g`）

**作用范围**

作用范围分为当前行、全文、选区等等。

当前行：

```
:s/foo/bar/g
```

全文：

```
:%s/foo/bar/g
```

选区，在Visual模式下选择区域后输入`:`，Vim即可自动补全为 `:'<,'>`。

```
:'<,'>s/foo/bar/g
```

2-11行：

```
:5,12s/foo/bar/g
```

当前行`.`与接下来两行`+2`：

```
:.,+2s/foo/bar/g
```

**替换标志**

上文中命令结尾的`g`即是替换标志之一，表示全局`global`替换（即替换目标的所有出现）。 还有很多其他有用的替换标志：

空替换标志表示只替换从光标位置开始，目标的第一次出现：

```
:%s/foo/bar
```

`i`表示大小写不敏感查找，`I`表示大小写敏感：

```
:%s/foo/bar/i
# 等效于模式中的\c（不敏感）或\C（敏感）
:%s/foo\c/bar
```

`c`表示需要确认，例如全局查找`"foo"`替换为`"bar"`并且需要确认：

```
:%s/foo/bar/gc
```

回车后Vim会将光标移动到每一次`"foo"`出现的位置，并提示

```
replace with bar (y/n/a/q/l/^E/^Y)?
```

按下`y`表示替换，`n`表示不替换，`a`表示替换所有，`q`表示退出查找模式， `l`表示替换当前位置并退出。`^E`与`^Y`是光标移动快捷键









参考链接

https://www.cnblogs.com/huxinga/p/7942194.html

https://harttle.land/2015/11/07/vim-cursor.html

